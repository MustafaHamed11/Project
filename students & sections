/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package zag_sched.lookups.gui;

import java.util.ArrayList;
import java.util.Date;
import java.util.LinkedHashMap;
import javax.swing.JFrame;
import javax.swing.JOptionPane;
import javax.swing.table.DefaultTableModel;
import static zag_sched.lookups.gui.JFrameMaster.checkConfirm;
import zag_sched.lookups.logs.LogHandler;
import zag_sched.lookups.lecturers.Lecturer;
import zag_sched.lookups.lecturers.LecturerHandler;
import zag_sched.lookups.departments.Department;
import zag_sched.lookups.departments.DepartmentHandler;
import zag_sched.lookups.divisions.Division;
import zag_sched.lookups.divisions.DivisionHandler;
import zag_sched.lookups.groups.Group;
import zag_sched.lookups.groups.GroupHandler;
import zag_sched.lookups.lecturers.LecturersPositionHandler;
import zag_sched.lookups.sections.Section;
import zag_sched.lookups.sections.SectionHandler;
import zag_sched.lookups.students.Student;
import zag_sched.lookups.students.StudentHandler;

import zag_sched.users.User;
import zag_sched.users.UserHandler;

/**
 *
 * @author Administrator
 */
public class JInternalFrameLookupsStudentsSections extends javax.swing.JInternalFrame {

    private JFrame masterForm;

    /**
     * Creates new form JInternalFrameLookups
     */
    public JInternalFrameLookupsStudentsSections() {
        initComponents();
    }

    public JInternalFrameLookupsStudentsSections(JFrame masterForm) {
        initComponents();
        this.masterForm = masterForm;
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">                          
    private void initComponents() {

        jPanel1 = new javax.swing.JPanel();
        jLabelConsolateTypeId = new javax.swing.JLabel();
        jTextFieldStudentId = new javax.swing.JTextField();
        jLabel2 = new javax.swing.JLabel();
        jTextFieldStudentName = new javax.swing.JTextField();
        jComboBoxDivision = new javax.swing.JComboBox();
        jLabel3 = new javax.swing.JLabel();
        jComboBoxDepartment = new javax.swing.JComboBox();
        jComboBoxGroup = new javax.swing.JComboBox();
        jComboBoxSection = new javax.swing.JComboBox();
        jLabel4 = new javax.swing.JLabel();
        jLabel5 = new javax.swing.JLabel();
        jLabel6 = new javax.swing.JLabel();
        jScrollPane1 = new javax.swing.JScrollPane();
        jTableStudents = new javax.swing.JTable();
        jButtonAddStudent = new javax.swing.JButton();
        jButtonCancelStudent = new javax.swing.JButton();
        jButtonDeleteStudent = new javax.swing.JButton();
        jButtonUpdateStudent = new javax.swing.JButton();
        jPanel3 = new javax.swing.JPanel();
        jLabelKanaatId = new javax.swing.JLabel();
        jTextFieldSectionId = new javax.swing.JTextField();
        jLabelKanaatText = new javax.swing.JLabel();
        jTextFieldٍSectionName = new javax.swing.JTextField();
        jScrollPane2 = new javax.swing.JScrollPane();
        jTableSection = new javax.swing.JTable();
        jButtonAddSection = new javax.swing.JButton();
        jButtonUpdateSection = new javax.swing.JButton();
        jButtonDeleteSection = new javax.swing.JButton();
        jButtonCancelSection = new javax.swing.JButton();
        jComboBoxSectionGroup = new javax.swing.JComboBox();
        jLabel1 = new javax.swing.JLabel();

        setClosable(true);
        setIconifiable(true);
        setTitle("الطلاب / السكاشن");
        addInternalFrameListener(new javax.swing.event.InternalFrameListener() {
            public void internalFrameActivated(javax.swing.event.InternalFrameEvent evt) {
            }
            public void internalFrameClosed(javax.swing.event.InternalFrameEvent evt) {
            }
            public void internalFrameClosing(javax.swing.event.InternalFrameEvent evt) {
            }
            public void internalFrameDeactivated(javax.swing.event.InternalFrameEvent evt) {
            }
            public void internalFrameDeiconified(javax.swing.event.InternalFrameEvent evt) {
            }
            public void internalFrameIconified(javax.swing.event.InternalFrameEvent evt) {
            }
            public void internalFrameOpened(javax.swing.event.InternalFrameEvent evt) {
                formInternalFrameOpened(evt);
            }
        });

        jPanel1.setBorder(javax.swing.BorderFactory.createTitledBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(0, 0, 0)), "الطلاب"));
        jPanel1.setForeground(new java.awt.Color(51, 255, 51));

        jLabelConsolateTypeId.setText("كود الطالب");
        jLabelConsolateTypeId.setToolTipText("");

        jTextFieldStudentId.setEditable(false);

        jLabel2.setText("اسم الطالب");

        jLabel3.setText("الفرقة");

        jLabel4.setText("المجموعة");

        jLabel5.setText("القسم");

        jLabel6.setText("السيكشن");

        jTableStudents.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "كود الطالب", "اسم الطالب", "الفرقة", "المجموعة", "السيكشن", "القسم"
            }
        ) {
            boolean[] canEdit = new boolean [] {
                false, false, false, false, false, false
            };

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        jTableStudents.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                jTableStudentsMouseClicked(evt);
            }
        });
        jScrollPane1.setViewportView(jTableStudents);

        jButtonAddStudent.setIcon(new javax.swing.ImageIcon(getClass().getResource("/zag_sched/lookups/gui/imgs/Add.gif"))); // NOI18N
        jButtonAddStudent.setText("إضافة");
        jButtonAddStudent.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonAddStudentActionPerformed(evt);
            }
        });

        jButtonCancelStudent.setIcon(new javax.swing.ImageIcon(getClass().getResource("/zag_sched/lookups/gui/imgs/refresh.png"))); // NOI18N
        jButtonCancelStudent.setText("إعادة بدء");
        jButtonCancelStudent.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonCancelStudentActionPerformed(evt);
            }
        });

        jButtonDeleteStudent.setIcon(new javax.swing.ImageIcon(getClass().getResource("/zag_sched/lookups/gui/imgs/delete_ena.png"))); // NOI18N
        jButtonDeleteStudent.setText("مسح");
        jButtonDeleteStudent.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonDeleteStudentActionPerformed(evt);
            }
        });

        jButtonUpdateStudent.setIcon(new javax.swing.ImageIcon(getClass().getResource("/zag_sched/lookups/gui/imgs/save.png"))); // NOI18N
        jButtonUpdateStudent.setText("تعديل");
        jButtonUpdateStudent.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonUpdateStudentActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                .addContainerGap(11, Short.MAX_VALUE)
                .addComponent(jButtonAddStudent)
                .addGap(18, 18, 18)
                .addComponent(jButtonUpdateStudent)
                .addGap(27, 27, 27)
                .addComponent(jButtonDeleteStudent)
                .addGap(18, 18, 18)
                .addComponent(jButtonCancelStudent)
                .addGap(47, 47, 47))
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGap(25, 25, 25)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 400, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(jLabel2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(jLabelConsolateTypeId, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(jLabel3, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(jLabel4, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(jLabel5, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(jLabel6, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                        .addGap(18, 18, 18)
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(jComboBoxDivision, 0, 202, Short.MAX_VALUE)
                            .addComponent(jTextFieldStudentName)
                            .addComponent(jTextFieldStudentId)
                            .addComponent(jComboBoxDepartment, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(jComboBoxGroup, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(jComboBoxSection, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addContainerGap(39, Short.MAX_VALUE)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(jTextFieldStudentId, javax.swing.GroupLayout.DEFAULT_SIZE, 26, Short.MAX_VALUE)
                    .addComponent(jLabelConsolateTypeId, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addGap(18, 18, 18)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jTextFieldStudentName, javax.swing.GroupLayout.PREFERRED_SIZE, 32, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel2, javax.swing.GroupLayout.PREFERRED_SIZE, 22, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jComboBoxDivision, javax.swing.GroupLayout.PREFERRED_SIZE, 29, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel3, javax.swing.GroupLayout.PREFERRED_SIZE, 22, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(25, 25, 25)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jComboBoxGroup, javax.swing.GroupLayout.PREFERRED_SIZE, 29, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel4, javax.swing.GroupLayout.PREFERRED_SIZE, 22, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(26, 26, 26)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jComboBoxSection, javax.swing.GroupLayout.PREFERRED_SIZE, 29, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel6, javax.swing.GroupLayout.PREFERRED_SIZE, 22, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jComboBoxDepartment, javax.swing.GroupLayout.PREFERRED_SIZE, 29, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel5, javax.swing.GroupLayout.PREFERRED_SIZE, 22, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(36, 36, 36)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jButtonAddStudent)
                    .addComponent(jButtonUpdateStudent)
                    .addComponent(jButtonDeleteStudent)
                    .addComponent(jButtonCancelStudent))
                .addGap(18, 18, 18)
                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 188, javax.swing.GroupLayout.PREFERRED_SIZE))
        );

        jPanel3.setBorder(javax.swing.BorderFactory.createTitledBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(0, 0, 0)), "السكاشن"));

        jLabelKanaatId.setText("كود السيكشن");

        jTextFieldSectionId.setEditable(false);

        jLabelKanaatText.setText("اسم السيكشن");

        jTableSection.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "كود السيكشن", "اسم السيكشن", "المجموعة"
            }
        ) {
            boolean[] canEdit = new boolean [] {
                false, false, false
            };

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        jTableSection.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                jTableSectionMouseClicked(evt);
            }
        });
        jScrollPane2.setViewportView(jTableSection);

        jButtonAddSection.setIcon(new javax.swing.ImageIcon(getClass().getResource("/zag_sched/lookups/gui/imgs/Add.gif"))); // NOI18N
        jButtonAddSection.setText("إضافة");
        jButtonAddSection.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonAddSectionActionPerformed(evt);
            }
        });

        jButtonUpdateSection.setIcon(new javax.swing.ImageIcon(getClass().getResource("/zag_sched/lookups/gui/imgs/save.png"))); // NOI18N
        jButtonUpdateSection.setText("تعديل");
        jButtonUpdateSection.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonUpdateSectionActionPerformed(evt);
            }
        });

        jButtonDeleteSection.setIcon(new javax.swing.ImageIcon(getClass().getResource("/zag_sched/lookups/gui/imgs/delete_ena.png"))); // NOI18N
        jButtonDeleteSection.setText("مسح");
        jButtonDeleteSection.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonDeleteSectionActionPerformed(evt);
            }
        });

        jButtonCancelSection.setIcon(new javax.swing.ImageIcon(getClass().getResource("/zag_sched/lookups/gui/imgs/refresh.png"))); // NOI18N
        jButtonCancelSection.setText("إعادة بدء");
        jButtonCancelSection.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonCancelSectionActionPerformed(evt);
            }
        });

        jComboBoxSectionGroup.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Item 1", "Item 2", "Item 3", "Item 4" }));

        jLabel1.setText("المجموعة");

        javax.swing.GroupLayout jPanel3Layout = new javax.swing.GroupLayout(jPanel3);
        jPanel3.setLayout(jPanel3Layout);
        jPanel3Layout.setHorizontalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel3Layout.createSequentialGroup()
                        .addGap(25, 25, 25)
                        .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 362, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addGroup(jPanel3Layout.createSequentialGroup()
                                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                        .addComponent(jLabelKanaatText, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                        .addComponent(jLabelKanaatId, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                                    .addComponent(jLabel1))
                                .addGap(18, 18, 18)
                                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                    .addComponent(jTextFieldٍSectionName, javax.swing.GroupLayout.DEFAULT_SIZE, 202, Short.MAX_VALUE)
                                    .addComponent(jTextFieldSectionId)
                                    .addComponent(jComboBoxSectionGroup, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))))
                    .addGroup(jPanel3Layout.createSequentialGroup()
                        .addGap(39, 39, 39)
                        .addComponent(jButtonAddSection)
                        .addGap(18, 18, 18)
                        .addComponent(jButtonUpdateSection)
                        .addGap(19, 19, 19)
                        .addComponent(jButtonDeleteSection)
                        .addGap(18, 18, 18)
                        .addComponent(jButtonCancelSection)))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jPanel3Layout.setVerticalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addGap(39, 39, 39)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(jTextFieldSectionId, javax.swing.GroupLayout.DEFAULT_SIZE, 26, Short.MAX_VALUE)
                    .addComponent(jLabelKanaatId, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addGap(18, 18, 18)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jTextFieldٍSectionName, javax.swing.GroupLayout.PREFERRED_SIZE, 32, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabelKanaatText, javax.swing.GroupLayout.PREFERRED_SIZE, 22, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jComboBoxSectionGroup, javax.swing.GroupLayout.PREFERRED_SIZE, 28, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel1))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 26, Short.MAX_VALUE)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jButtonAddSection)
                    .addComponent(jButtonUpdateSection)
                    .addComponent(jButtonDeleteSection)
                    .addComponent(jButtonCancelSection))
                .addGap(18, 18, 18)
                .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 188, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(31, 31, 31))
        );

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGap(10, 10, 10)
                .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jPanel3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(100, Short.MAX_VALUE))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGap(21, 21, 21)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jPanel3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        jPanel1.getAccessibleContext().setAccessibleDescription("");

        pack();
    }// </editor-fold>                        

    private void formInternalFrameOpened(javax.swing.event.InternalFrameEvent evt) {                                         
        getAllStudents();
        getAllSections();

        ////2- Fill Division JCombo
        jComboBoxDivision.insertItemAt("", 0);
        jComboBoxDivision.setSelectedIndex(0);
        jComboBoxDivision.removeAllItems();

        LinkedHashMap<String, Integer> divisionsHM = DivisionHandler.getAllDivisionsMap();
        for (String divisionName : divisionsHM.keySet()) {
            jComboBoxDivision.addItem(divisionName);
            System.out.println("Add : " + divisionName);
        }

        ////2- Fill Group JCombo
        jComboBoxGroup.insertItemAt("", 0);
        jComboBoxGroup.setSelectedIndex(0);
        jComboBoxGroup.removeAllItems();

        LinkedHashMap<String, Integer> groupsHM = GroupHandler.getAllGroupsMap();
        for (String groupName : groupsHM.keySet()) {
            jComboBoxGroup.addItem(groupName);
            System.out.println("Add : " + groupName);
        }

        ////2- Fill Section JCombo
        jComboBoxSection.insertItemAt("", 0);
        jComboBoxSection.setSelectedIndex(0);
        jComboBoxSection.removeAllItems();

        LinkedHashMap<String, Integer> sectionsHM = SectionHandler.getAllSectionsMap();
        for (String sectionName : sectionsHM.keySet()) {
            jComboBoxSection.addItem(sectionName);
            System.out.println("Add : " + sectionName);
        }

        ////2- Fill Department JCombo
        jComboBoxDepartment.insertItemAt("", 0);
        jComboBoxDepartment.setSelectedIndex(0);
        jComboBoxDepartment.removeAllItems();

        LinkedHashMap<String, Integer> DepartmentsHM = DepartmentHandler.getAllDepartmentsMap();
        for (String departmentName : DepartmentsHM.keySet()) {
            jComboBoxDepartment.addItem(departmentName);
            System.out.println("Add : " + departmentName);
        }

        
        
        
        ////2- Fill Section Group
        jComboBoxSectionGroup.insertItemAt("", 0);
        jComboBoxSectionGroup.setSelectedIndex(0);
        jComboBoxSectionGroup.removeAllItems();

        LinkedHashMap<String, Integer> SectionGroupHM = GroupHandler.getAllGroupsMap();
        for (String sectionGroup : SectionGroupHM.keySet()) {
            jComboBoxSectionGroup.addItem(sectionGroup);
            System.out.println("Add : " + sectionGroup);
        }
        
        
    }                                        

    private void jButtonAddSectionActionPerformed(java.awt.event.ActionEvent evt) {                                                  

        int optionChoosen = JFrameMaster.checkConfirm();
        if (optionChoosen == JOptionPane.YES_OPTION) {
            // 0. read Fields

            String sectionName = jTextFieldٍSectionName.getText();
            String groupName = (String) jComboBoxSectionGroup.getSelectedItem();

            Section section = new Section(sectionName, GroupHandler.getGroupByName(groupName) );

            // 1. Add row to DB
            SectionHandler.insertSection(section);
            // 2. Add row to JTable
            DefaultTableModel tm = (DefaultTableModel) jTableSection.getModel();
            Object[] rowData = {section.getSectionId(), section.getSectionName()};

            tm.addRow(rowData);

            /// refresh
            tm.setRowCount(0);
            getAllSections();

            // 3. Empty fields
            emptyFieldsSections();

            // 4. show Save Msg
            JOptionPane.showMessageDialog(null, "Data Saved Done", "Saving..", JOptionPane.INFORMATION_MESSAGE);

            // LogHandler.insertLog(10, 4, "Create Kanaat Ok - Kanaat : "+ kanaatText);
        }

    }                                                 

    private void jButtonUpdateSectionActionPerformed(java.awt.event.ActionEvent evt) {                                                     

        int optionChoosen = JFrameMaster.checkConfirm();
        if (optionChoosen == JOptionPane.YES_OPTION) {
            // 1, Read Fields
            int sectionId =  Integer.parseInt(jTextFieldSectionId.getText());
            String sectionName = jTextFieldٍSectionName.getText();
            String groupName = (String) jComboBoxSectionGroup.getSelectedItem();

            Section section =  new Section(sectionId, sectionName, GroupHandler.getGroupByName(groupName));

            // 2. update DB
            SectionHandler.updateSection(section);
            // 3. update JTable
            jTableSection.setValueAt(sectionId, jTableSection.getSelectedRow(), 0);
            jTableSection.setValueAt(sectionName, jTableSection.getSelectedRow(), 1);
            jTableSection.setValueAt(groupName, jTableSection.getSelectedRow(), 2);

            // 4. Empty Fields
            emptyFieldsSections();

            //  LogHandler.insertLog(11, 4, "Update Kanaat Ok - Kanaat : "+groupName);
        }

    }                                                    

    private void jButtonDeleteSectionActionPerformed(java.awt.event.ActionEvent evt) {                                                     

        int optionChoosen = JFrameMaster.checkConfirm();
        if (optionChoosen == JOptionPane.YES_OPTION) {
            //1. read user id
            int sectionId = Integer.parseInt(jTextFieldSectionId.getText());
            //   String logDeletedKanaatText = KanaatHandler.getKanaatById(groupId).getKanaatText();
            //2. del from db
            SectionHandler.deleteSection(sectionId);

            // 3. remove From JTable
            DefaultTableModel tm = (DefaultTableModel) jTableSection.getModel();
            tm.removeRow(jTableSection.getSelectedRow());

            // 4. empty Fields
            emptyFieldsSections();
            //   LogHandler.insertLog(12, 4, "Delete Kanaat Ok - Kanaat  : "+logDeletedKanaatText);
        }

    }                                                    

    private void jTableSectionMouseClicked(java.awt.event.MouseEvent evt) {                                           

        Integer sectionId = (Integer) jTableSection.getValueAt(jTableSection.getSelectedRow(), 0);
        String sectionName = (String) jTableSection.getValueAt(jTableSection.getSelectedRow(), 1);
        String groupName = (String) jTableSection.getValueAt(jTableSection.getSelectedRow(), 2);

        jTextFieldSectionId.setText(sectionId.toString());
        jTextFieldٍSectionName.setText(sectionName);
        jComboBoxSectionGroup.setSelectedItem(GroupHandler.getGroupByName(groupName).getGroupName());

    }                                          

    private void jButtonCancelSectionActionPerformed(java.awt.event.ActionEvent evt) {                                                     
        emptyFieldsSections();
    }                                                    

    private void jButtonCancelStudentActionPerformed(java.awt.event.ActionEvent evt) {                                                     
        emptyFieldsStudents();
    }                                                    

    private void jButtonDeleteStudentActionPerformed(java.awt.event.ActionEvent evt) {                                                     
        int optionChoosen = JFrameMaster.checkConfirm();
        if (optionChoosen == JOptionPane.YES_OPTION) {
            //1. read user id
            int studentId = Integer.parseInt(jTextFieldStudentId.getText());
            // String logDeletedConsolateName = LecturerHandler.getLecturerById(divisionId).getLecturerName();
            //2. del from db
            StudentHandler.deleteStudent(studentId);

            // 3. remove From JTable
            DefaultTableModel tm = (DefaultTableModel) jTableStudents.getModel();
            tm.removeRow(jTableStudents.getSelectedRow());

            // 4. empty Fields
            emptyFieldsStudents();
            //   LogHandler.insertLog(9, 3, "Delete Consolate Ok - Consolate  : " + logDeletedConsolateName);
        }

    }                                                    

    private void jButtonUpdateStudentActionPerformed(java.awt.event.ActionEvent evt) {                                                     
        int optionChoosen = JFrameMaster.checkConfirm();
        if (optionChoosen == JOptionPane.YES_OPTION) {
            // 1, Read Fields
            int studentId = Integer.parseInt(jTextFieldStudentId.getText());
            String studentName = jTextFieldStudentName.getText();

            String divisionName = (String) jComboBoxDivision.getSelectedItem();
            String groupName = (String) jComboBoxGroup.getSelectedItem();
            String sectionName = (String) jComboBoxSection.getSelectedItem();
            String departmentName = (String) jComboBoxDepartment.getSelectedItem();
            Student student = new Student(studentId, studentName,
                    DivisionHandler.getDivisionByName(divisionName),
                    GroupHandler.getGroupByName(groupName),
                    SectionHandler.getSectionByName(sectionName),
                    DepartmentHandler.getDepartmentByName(departmentName)
            );

            // 2. update DB
            StudentHandler.updateStudent(student);

            // 3. update JTable
            jTableStudents.setValueAt(studentId, jTableStudents.getSelectedRow(), 0);
            jTableStudents.setValueAt(studentName, jTableStudents.getSelectedRow(), 1);
            jTableStudents.setValueAt(divisionName, jTableStudents.getSelectedRow(), 2);
            jTableStudents.setValueAt(groupName, jTableStudents.getSelectedRow(), 3);
            jTableStudents.setValueAt(sectionName, jTableStudents.getSelectedRow(), 4);
            jTableStudents.setValueAt(departmentName, jTableStudents.getSelectedRow(), 5);

            
            // 4. Empty Fields
            emptyFieldsStudents();

            //   LogHandler.insertLog(8, 3, "Update Lecture Ok - Lecture : " + divisionName);
        }

    }                                                    

    private void jButtonAddStudentActionPerformed(java.awt.event.ActionEvent evt) {                                                  

        int optionChoosen = JFrameMaster.checkConfirm();
        if (optionChoosen == JOptionPane.YES_OPTION) {
            // 0. read Fields
            String studentName = jTextFieldStudentName.getText();
            String divisionName = (String) jComboBoxDivision.getSelectedItem();
            String groupName = (String) jComboBoxGroup.getSelectedItem();
            String sectionName = (String) jComboBoxSection.getSelectedItem();
            String departmentName = (String) jComboBoxDepartment.getSelectedItem();

            Student student = new Student(studentName,
                    DivisionHandler.getDivisionByName(divisionName),
                    GroupHandler.getGroupByName(groupName),
                    SectionHandler.getSectionByName(sectionName),
                    DepartmentHandler.getDepartmentByName(departmentName)
            );

            // 1. Add row to DB
            StudentHandler.insertStudent(student);

            // 2. Add row to JTable
            DefaultTableModel tm = (DefaultTableModel) jTableStudents.getModel();
            Object[] rowData = {student.getStudentId(), student.getStudentName()};

            tm.addRow(rowData);

            /// refresh
            tm.setRowCount(0);
            getAllStudents();

            // 3. Empty fields
            emptyFieldsStudents();

            // 4. show Save Msg
            JOptionPane.showMessageDialog(null, "Data Saved Done", "Saving..", JOptionPane.INFORMATION_MESSAGE);

            //   LogHandler.insertLog(7, 3, "Create lecturer Ok - lecturer : " + lecturerName);
        }

    }                                                 

    private void jTableStudentsMouseClicked(java.awt.event.MouseEvent evt) {                                            

        Integer studentId = (Integer) jTableStudents.getValueAt(jTableStudents.getSelectedRow(), 0);
        String studentName = (String) jTableStudents.getValueAt(jTableStudents.getSelectedRow(), 1);
        String divisionName = (String) jTableStudents.getValueAt(jTableStudents.getSelectedRow(), 2);
        String groupName = (String) jTableStudents.getValueAt(jTableStudents.getSelectedRow(), 3);
        String sectionName = (String) jTableStudents.getValueAt(jTableStudents.getSelectedRow(), 4);
        String departmentName = (String) jTableStudents.getValueAt(jTableStudents.getSelectedRow(), 5);

        jTextFieldStudentId.setText(studentId.toString());
        jTextFieldStudentName.setText(studentName);
        jComboBoxDivision.setSelectedItem(DivisionHandler.getDivisionByName(divisionName).getDivisionName());
        jComboBoxGroup.setSelectedItem(GroupHandler.getGroupByName(groupName).getGroupName());
        jComboBoxSection.setSelectedItem(SectionHandler.getSectionByName(sectionName).getSectionName());
        jComboBoxDepartment.setSelectedItem(DepartmentHandler.getDepartmentByName(departmentName).getDepartmentName());


    }                                           

    public void getAllSections() {

// 1. Get All Software From DB
        ArrayList<Section> sectionsList = SectionHandler.getAllSections();
        // 2. Add Rows to JTable
        DefaultTableModel tm = (DefaultTableModel) jTableSection.getModel();

        for (Section section : sectionsList) {
            Object[] rowData = {section.getSectionId(), section.getSectionName(), section.getGroup().getGroupName()};
            tm.addRow(rowData);
        }

    }

    public void getAllStudents() {
        // 1. Get All Software From DB
        ArrayList<Student> studentsList = StudentHandler.getAllStudents();

        // 2. Add Rows to JTable
        DefaultTableModel tm = (DefaultTableModel) jTableStudents.getModel();

        for (Student student : studentsList) {
            Object[] rowData = {student.getStudentId(), student.getStudentName(),
                student.getDivision().getDivisionName(),
                student.getGroup().getGroupName(),
                student.getSection().getSectionName(),
                student.getDepartment().getDepartmentName()};

            tm.addRow(rowData);
        }

    }

    private void emptyFieldsStudents() {
        jTextFieldStudentId.setText("");
        jTextFieldStudentName.setText("");
        jComboBoxDivision.setSelectedIndex(0);
        jComboBoxGroup.setSelectedIndex(0);
        jComboBoxSection.setSelectedIndex(0);
        jComboBoxDepartment.setSelectedIndex(0);

    }

    private void emptyFieldsSections() {
        jTextFieldSectionId.setText("");
        jTextFieldٍSectionName.setText("");
        jComboBoxSectionGroup.setSelectedIndex(0);
    }

    // Variables declaration - do not modify                     
    private javax.swing.JButton jButtonAddSection;
    private javax.swing.JButton jButtonAddStudent;
    private javax.swing.JButton jButtonCancelSection;
    private javax.swing.JButton jButtonCancelStudent;
    private javax.swing.JButton jButtonDeleteSection;
    private javax.swing.JButton jButtonDeleteStudent;
    private javax.swing.JButton jButtonUpdateSection;
    private javax.swing.JButton jButtonUpdateStudent;
    private javax.swing.JComboBox jComboBoxDepartment;
    private javax.swing.JComboBox jComboBoxDivision;
    private javax.swing.JComboBox jComboBoxGroup;
    private javax.swing.JComboBox jComboBoxSection;
    private javax.swing.JComboBox jComboBoxSectionGroup;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabelConsolateTypeId;
    private javax.swing.JLabel jLabelKanaatId;
    private javax.swing.JLabel jLabelKanaatText;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel3;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JTable jTableSection;
    private javax.swing.JTable jTableStudents;
    private javax.swing.JTextField jTextFieldSectionId;
    private javax.swing.JTextField jTextFieldStudentId;
    private javax.swing.JTextField jTextFieldStudentName;
    private javax.swing.JTextField jTextFieldٍSectionName;
    // End of variables declaration                   

}
